---
phase: 02-design-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/app.css, src/lib/components/ui/Typography.svelte]
autonomous: true
---

<objective>
Establish typography system and color palette for educational visual app.

Purpose: Create consistent visual language for statistical concepts - clear hierarchy for headings, readable body text, and semantic colors for diagrams (treatment, control, confounders).
Output: CSS custom properties for colors, typography components, Tailwind theme extensions.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-SUMMARY.md

@src/app.css
@vite.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Define color palette with CSS custom properties</name>
  <files>src/app.css</files>
  <action>
Add CSS custom properties to app.css after Tailwind import:

**Brand colors:**
- Primary: Deep blue (#1e40af) for headers, links
- Secondary: Slate gray for body text
- Accent: Amber (#f59e0b) for highlights, callouts

**Semantic colors for diagrams:**
- Treatment: Green (#22c55e) - represents treatment group
- Control: Blue (#3b82f6) - represents control group
- Confounder: Red/Orange (#ef4444) - confounding variables
- Outcome: Purple (#8b5cf6) - outcome variables
- Arrow: Gray (#64748b) - causal arrows

**Background variants:**
- Surface: White/slate-50 for cards
- Muted: slate-100 for secondary surfaces

Use `:root` for light mode defaults. Add `@media (prefers-color-scheme: dark)` with adjusted values for dark mode support (darker backgrounds, lighter text).

Format as CSS custom properties: `--color-treatment`, `--color-control`, etc.
  </action>
  <verify>CSS parses without errors, dev server runs</verify>
  <done>Color palette defined with semantic naming for educational diagrams</done>
</task>

<task type="auto">
  <name>Task 2: Create typography scale and components</name>
  <files>src/lib/components/ui/Typography.svelte, src/app.css</files>
  <action>
**In app.css, add typography CSS:**
- Heading scale: h1 (2.5rem), h2 (2rem), h3 (1.5rem), h4 (1.25rem)
- Body: 1rem with 1.6 line-height for readability
- Small/caption: 0.875rem
- Code: monospace font for formulas, code snippets
- Use system font stack with Inter as preference

**Create Typography.svelte component:**
A flexible typography component using Svelte 5 runes:

```svelte
<script lang="ts">
  import type { Snippet } from 'svelte';

  let {
    variant = 'body',
    as,
    class: className = '',
    children
  }: {
    variant?: 'h1' | 'h2' | 'h3' | 'h4' | 'body' | 'small' | 'code';
    as?: string;
    class?: string;
    children: Snippet;
  } = $props();

  const tags = { h1: 'h1', h2: 'h2', h3: 'h3', h4: 'h4', body: 'p', small: 'span', code: 'code' };
  const tag = as || tags[variant];
</script>

<svelte:element this={tag} class="{variant} {className}">
  {@render children()}
</svelte:element>
```

Add corresponding CSS classes in app.css for each variant with proper sizing, weight, and color.
  </action>
  <verify>Typography component renders all variants correctly</verify>
  <done>Typography system with semantic variants and CSS classes</done>
</task>

<task type="auto">
  <name>Task 3: Create typography demo page</name>
  <files>src/routes/+page.svelte</files>
  <action>
Update the homepage to demonstrate the typography and color system:

- Show all heading variants (h1-h4)
- Show body text with good line-height
- Show code block styling
- Show color swatches for semantic diagram colors (treatment, control, confounder, outcome)
- Use Tailwind utilities combined with custom properties

This serves as both demo and verification that the design system works.
  </action>
  <verify>npm run dev shows typography demo with all variants and colors visible</verify>
  <done>Homepage displays typography scale and color palette for visual verification</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run dev` starts without errors
- [ ] `npm run build` succeeds
- [ ] All typography variants render with correct sizing
- [ ] Semantic colors visible on demo page
- [ ] Dark mode colors apply when system preference is dark
</verification>

<success_criteria>
- All tasks completed
- Typography component exported from src/lib/components/ui/
- Color palette defined with semantic naming
- Visual demo confirms design system works
</success_criteria>

<output>
After completion, create `.planning/phases/02-design-system/02-01-SUMMARY.md`
</output>
