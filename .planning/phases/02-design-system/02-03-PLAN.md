---
phase: 02-design-system
plan: 03
type: execute
wave: 2
depends_on: ["02-01", "02-02"]
files_modified: [src/lib/components/ui/Card.svelte, src/lib/components/ui/ConceptCard.svelte, src/lib/components/ui/ExpandableSection.svelte]
autonomous: true
---

<objective>
Create card components for displaying educational content.

Purpose: Build reusable card variants for concepts, lectures, and expandable definitions that form the core content presentation layer.
Output: Card, ConceptCard, and ExpandableSection components with animations.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-SUMMARY.md

@src/lib/components/ui/Typography.svelte
@src/app.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create base Card component</name>
  <files>src/lib/components/ui/Card.svelte</files>
  <action>
Create a flexible card component:

```svelte
<script lang="ts">
  import type { Snippet } from 'svelte';

  let {
    variant = 'default',
    padding = 'default',
    hover = false,
    class: className = '',
    children
  }: {
    variant?: 'default' | 'outlined' | 'elevated';
    padding?: 'none' | 'sm' | 'default' | 'lg';
    hover?: boolean;
    class?: string;
    children: Snippet;
  } = $props();

  const variantClasses = {
    default: 'bg-white border border-slate-200',
    outlined: 'bg-transparent border-2 border-slate-300',
    elevated: 'bg-white shadow-lg'
  };

  const paddingClasses = {
    none: '',
    sm: 'p-3',
    default: 'p-4 md:p-6',
    lg: 'p-6 md:p-8'
  };

  const hoverClass = hover ? 'transition-shadow hover:shadow-md cursor-pointer' : '';
</script>

<div class="rounded-lg {variantClasses[variant]} {paddingClasses[padding]} {hoverClass} {className}">
  {@render children()}
</div>
```

Variants:
- default: Subtle border for content cards
- outlined: Stronger border for interactive elements
- elevated: Shadow for prominent cards (module overview)
  </action>
  <verify>Card renders with correct styles for each variant</verify>
  <done>Base Card component with variant, padding, and hover options</done>
</task>

<task type="auto">
  <name>Task 2: Create ConceptCard component</name>
  <files>src/lib/components/ui/ConceptCard.svelte</files>
  <action>
Create a specialized card for statistical concepts:

```svelte
<script lang="ts">
  import { fly, fade } from 'svelte/transition';
  import Card from './Card.svelte';

  let {
    term,
    definition,
    category = 'general',
    example,
    index = 0
  }: {
    term: string;
    definition: string;
    category?: 'treatment' | 'control' | 'confounder' | 'outcome' | 'general';
    example?: string;
    index?: number;
  } = $props();

  let expanded = $state(false);

  const categoryColors = {
    treatment: 'border-l-4 border-l-[var(--color-treatment)]',
    control: 'border-l-4 border-l-[var(--color-control)]',
    confounder: 'border-l-4 border-l-[var(--color-confounder)]',
    outcome: 'border-l-4 border-l-[var(--color-outcome)]',
    general: ''
  };
</script>

<div
  transition:fly={{ y: 20, delay: index * 50, duration: 300 }}
  class={categoryColors[category]}
>
  <Card hover={!!example} variant="default">
    <button
      onclick={() => example && (expanded = !expanded)}
      class="w-full text-left"
      disabled={!example}
    >
      <h4 class="font-semibold text-slate-900">{term}</h4>
      <p class="mt-1 text-slate-600">{definition}</p>
    </button>

    {#if expanded && example}
      <div transition:fade={{ duration: 200 }} class="mt-4 pt-4 border-t border-slate-200">
        <p class="text-sm text-slate-500 font-medium">Example:</p>
        <p class="mt-1 text-slate-700">{example}</p>
      </div>
    {/if}
  </Card>
</div>
```

Features:
- Color-coded left border based on concept category
- Staggered entrance animation using index
- Expandable example section with smooth transition
- Uses semantic colors from design system
  </action>
  <verify>ConceptCard shows category colors and expands smoothly</verify>
  <done>ConceptCard with category colors, animations, and expandable examples</done>
</task>

<task type="auto">
  <name>Task 3: Create ExpandableSection component</name>
  <files>src/lib/components/ui/ExpandableSection.svelte</files>
  <action>
Create an expandable/collapsible section for detailed explanations:

```svelte
<script lang="ts">
  import { slide } from 'svelte/transition';
  import type { Snippet } from 'svelte';

  let {
    title,
    defaultOpen = false,
    class: className = '',
    children
  }: {
    title: string;
    defaultOpen?: boolean;
    class?: string;
    children: Snippet;
  } = $props();

  let isOpen = $state(defaultOpen);
</script>

<div class="border border-slate-200 rounded-lg overflow-hidden {className}">
  <button
    onclick={() => isOpen = !isOpen}
    class="w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors"
  >
    <span class="font-medium text-slate-900">{title}</span>
    <svg
      class="w-5 h-5 text-slate-500 transition-transform duration-200"
      class:rotate-180={isOpen}
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </button>

  {#if isOpen}
    <div transition:slide={{ duration: 200 }} class="p-4 border-t border-slate-200">
      {@render children()}
    </div>
  {/if}
</div>
```

Use cases:
- "Deep dive" sections in lectures
- Additional formula derivations
- Optional technical details
  </action>
  <verify>ExpandableSection toggles smoothly with slide animation</verify>
  <done>ExpandableSection with toggle animation and chevron rotation</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run dev` starts without errors
- [ ] `npm run build` succeeds
- [ ] Card variants render correctly
- [ ] ConceptCard shows category colors and animations
- [ ] ExpandableSection toggles with smooth slide
</verification>

<success_criteria>
- All tasks completed
- Card components use Svelte 5 runes and transitions
- Semantic colors from design system applied correctly
- Animations are smooth and respect reduced motion
</success_criteria>

<output>
After completion, create `.planning/phases/02-design-system/02-03-SUMMARY.md`
</output>
