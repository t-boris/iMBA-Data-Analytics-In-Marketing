---
phase: 02-design-system
plan: 05
type: execute
wave: 3
depends_on: ["02-03", "02-04"]
files_modified: [src/lib/components/ui/Spinner.svelte, src/lib/components/ui/Progress.svelte, src/lib/components/ui/index.ts, src/routes/+page.svelte]
autonomous: false
---

<objective>
Create visual feedback components and finalize design system exports.

Purpose: Add loading states, progress indicators, and create a unified export for all UI components. Verify complete design system with visual demo.
Output: Spinner, Progress components, barrel export file, and comprehensive demo page.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-SUMMARY.md

# Prior plan outputs needed:
@.planning/phases/02-design-system/02-01-SUMMARY.md
@.planning/phases/02-design-system/02-02-SUMMARY.md
@.planning/phases/02-design-system/02-03-SUMMARY.md
@.planning/phases/02-design-system/02-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Spinner and Progress components</name>
  <files>src/lib/components/ui/Spinner.svelte, src/lib/components/ui/Progress.svelte</files>
  <action>
**Spinner.svelte:**
```svelte
<script lang="ts">
  let {
    size = 'default',
    class: className = ''
  }: {
    size?: 'sm' | 'default' | 'lg';
    class?: string;
  } = $props();

  const sizeClasses = {
    sm: 'w-4 h-4',
    default: 'w-6 h-6',
    lg: 'w-8 h-8'
  };
</script>

<svg
  class="animate-spin text-blue-600 {sizeClasses[size]} {className}"
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 24 24"
>
  <circle
    class="opacity-25"
    cx="12"
    cy="12"
    r="10"
    stroke="currentColor"
    stroke-width="4"
  />
  <path
    class="opacity-75"
    fill="currentColor"
    d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
  />
</svg>
```

**Progress.svelte:**
```svelte
<script lang="ts">
  let {
    value = 0,
    max = 100,
    showLabel = false,
    size = 'default',
    class: className = ''
  }: {
    value: number;
    max?: number;
    showLabel?: boolean;
    size?: 'sm' | 'default';
    class?: string;
  } = $props();

  let percentage = $derived(Math.min(100, Math.max(0, (value / max) * 100)));

  const sizeClasses = {
    sm: 'h-1.5',
    default: 'h-2.5'
  };
</script>

<div class="w-full {className}">
  {#if showLabel}
    <div class="flex justify-between mb-1 text-sm text-slate-600">
      <span>Progress</span>
      <span>{Math.round(percentage)}%</span>
    </div>
  {/if}
  <div class="w-full bg-slate-200 rounded-full overflow-hidden {sizeClasses[size]}">
    <div
      class="h-full bg-blue-600 rounded-full transition-all duration-300"
      style="width: {percentage}%"
    />
  </div>
</div>
```

Use cases:
- Spinner: Loading content, fetching data
- Progress: Module completion, lecture progress, quiz scores
  </action>
  <verify>Spinner animates, Progress bar fills correctly</verify>
  <done>Loading and progress feedback components created</done>
</task>

<task type="auto">
  <name>Task 2: Create barrel export file for UI components</name>
  <files>src/lib/components/ui/index.ts</files>
  <action>
Create a barrel export that exports all UI components:

```typescript
// Layout primitives
export { default as Container } from './Container.svelte';
export { default as Grid } from './Grid.svelte';
export { default as Section } from './Section.svelte';

// Typography
export { default as Typography } from './Typography.svelte';

// Cards
export { default as Card } from './Card.svelte';
export { default as ConceptCard } from './ConceptCard.svelte';
export { default as ExpandableSection } from './ExpandableSection.svelte';

// Interactive elements
export { default as Button } from './Button.svelte';
export { default as IconButton } from './IconButton.svelte';
export { default as Badge } from './Badge.svelte';

// Feedback
export { default as Spinner } from './Spinner.svelte';
export { default as Progress } from './Progress.svelte';
```

This enables clean imports:
```svelte
import { Button, Card, Typography } from '$lib/components/ui';
```

Delete the .gitkeep file after creating real components.
  </action>
  <verify>Import from $lib/components/ui works without errors</verify>
  <done>Barrel export created for all UI components</done>
</task>

<task type="auto">
  <name>Task 3: Create comprehensive design system demo page</name>
  <files>src/routes/+page.svelte</files>
  <action>
Replace homepage with a comprehensive design system showcase:

Import all components from the barrel export and demonstrate:

1. **Typography section:**
   - All heading levels (h1-h4)
   - Body text and small text
   - Code styling

2. **Colors section:**
   - Brand colors (primary, secondary, accent)
   - Semantic diagram colors (treatment, control, confounder, outcome)
   - Color swatches with hex values

3. **Layout section:**
   - Container sizes demonstrated
   - Grid with 2, 3, 4 columns
   - Section spacing variants

4. **Cards section:**
   - Card variants (default, outlined, elevated)
   - ConceptCard with different categories
   - ExpandableSection demo

5. **Interactive section:**
   - Button variants and sizes
   - IconButton examples
   - Badge variants

6. **Feedback section:**
   - Spinner sizes
   - Progress bar with different values

Organize with Section components and clear headings. This page serves as living documentation.
  </action>
  <verify>npm run dev shows complete design system demo</verify>
  <done>Comprehensive demo page showcasing all components</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete design system with typography, colors, layouts, cards, buttons, and feedback components</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:5173
    3. Review each section:
       - Typography: All heading sizes readable, hierarchy clear
       - Colors: Semantic colors distinct, good contrast
       - Layout: Responsive grids work at different widths
       - Cards: Hover states smooth, ConceptCard colors match categories
       - Buttons: All variants clickable, focus states visible
       - Feedback: Spinner animates, progress bar fills
    4. Resize browser to test responsive behavior
    5. Check dark mode if system preference is dark
  </how-to-verify>
  <resume-signal>Type "approved" to complete phase, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run dev` starts without errors
- [ ] `npm run build` succeeds
- [ ] All components import from barrel export
- [ ] Demo page displays all components
- [ ] User approves visual design
</verification>

<success_criteria>
- All tasks completed
- Design system visually verified by user
- Components use consistent patterns (Svelte 5 runes, Tailwind)
- Ready for Phase 3: Navigation
</success_criteria>

<output>
After completion, create `.planning/phases/02-design-system/02-05-SUMMARY.md`
</output>
