---
phase: 03-core-navigation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [src/lib/data/modules.ts, src/lib/types/module.ts]
autonomous: true
---

<objective>
Define module data structure and create centralized module data.

Purpose: Establish the data model for the 8 course modules that will power navigation and content.
Output: TypeScript types for modules and lectures, module data file with all 8 modules defined.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Module 1 content from PROJECT.md:
# - Causal Analysis fundamentals
# - Key thinkers (Neyman, Rubin, Pearl, Angrist/Card/Imbens)
# - Randomized Experiments & A/B Testing
# - Matching Methods (PSM, IPW, Synthetic Control)
# - Instrumental Variables (2SLS)
# - Difference-in-Differences
# - Field Experiments (Swedish grocery store case)
# - Python implementation demos
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create module and lecture TypeScript types</name>
  <files>src/lib/types/module.ts</files>
  <action>
Define TypeScript interfaces for the module system:

```typescript
export interface Lecture {
  id: string;
  moduleId: string;
  order: number;
  title: string;
  slug: string;
  description: string;
  duration?: string; // e.g., "15 min read"
  hasVisualization: boolean;
  hasAnimation: boolean;
  status: 'draft' | 'ready' | 'coming-soon';
}

export interface Module {
  id: string;
  order: number;
  name: string;
  slug: string;
  description: string;
  icon?: string; // emoji or icon name
  color: 'treatment' | 'control' | 'confounder' | 'outcome' | 'default';
  lectures: Lecture[];
  status: 'active' | 'coming-soon';
}

export type ModuleId = '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8';
```

These types will be used throughout the app for type safety.
  </action>
  <verify>TypeScript compiles without errors</verify>
  <done>Module and Lecture types exported and usable</done>
</task>

<task type="auto">
  <name>Task 2: Create module data with all 8 modules</name>
  <files>src/lib/data/modules.ts</files>
  <action>
Create centralized module data file:

```typescript
import type { Module, Lecture } from '$lib/types/module';

// Module 1: Causal Analysis (fully defined with 8 lectures)
const module1Lectures: Lecture[] = [
  {
    id: '1-1',
    moduleId: '1',
    order: 1,
    title: 'Introduction to Causal Analysis',
    slug: 'introduction',
    description: 'Confounds, spurious correlation, and selection bias fundamentals',
    hasVisualization: true,
    hasAnimation: true,
    status: 'coming-soon'
  },
  {
    id: '1-2',
    moduleId: '1',
    order: 2,
    title: 'Key Thinkers in Causality',
    slug: 'key-thinkers',
    description: 'Neyman, Rubin, Pearl, and the Nobel laureates',
    hasVisualization: true,
    hasAnimation: false,
    status: 'coming-soon'
  },
  // ... define all 8 lectures for Module 1
  // 3: Randomized Experiments & A/B Testing
  // 4: Matching Methods (PSM, IPW, Synthetic Control)
  // 5: Instrumental Variables (2SLS)
  // 6: Difference-in-Differences
  // 7: Field Experiments
  // 8: Python Demo (DID)
];

export const modules: Module[] = [
  {
    id: '1',
    order: 1,
    name: 'Causal Analysis',
    slug: 'causal-analysis',
    description: 'Fundamentals of causal inference in marketing',
    icon: 'ðŸŽ¯',
    color: 'treatment',
    lectures: module1Lectures,
    status: 'active'
  },
  // Modules 2-8 as coming-soon placeholders
  {
    id: '2',
    order: 2,
    name: 'Module 2',
    slug: 'module-2',
    description: 'Coming soon',
    icon: 'ðŸ“Š',
    color: 'control',
    lectures: [],
    status: 'coming-soon'
  },
  // ... repeat for modules 3-8
];

// Helper functions
export function getModuleById(id: string): Module | undefined {
  return modules.find(m => m.id === id);
}

export function getModuleBySlug(slug: string): Module | undefined {
  return modules.find(m => m.slug === slug);
}

export function getLectureById(moduleId: string, lectureId: string): Lecture | undefined {
  const module = getModuleById(moduleId);
  return module?.lectures.find(l => l.id === lectureId);
}
```

Define all 8 Module 1 lectures based on PROJECT.md content. Modules 2-8 are placeholders.
  </action>
  <verify>Import modules in a test file, verify types work</verify>
  <done>All 8 modules defined with Module 1 having full lecture details</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds (TypeScript compiles)
- [ ] Types are correctly exported
- [ ] Module 1 has all 8 lectures defined
- [ ] Helper functions work correctly
</verification>

<success_criteria>
- All tasks completed
- TypeScript types are clean and well-documented
- Module data is complete for Module 1
- Placeholder modules 2-8 are ready for future content
</success_criteria>

<output>
After completion, create `.planning/phases/03-core-navigation/03-02-SUMMARY.md`
</output>
