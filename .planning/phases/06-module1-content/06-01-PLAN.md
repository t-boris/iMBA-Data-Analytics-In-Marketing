---
phase: 06-module1-content
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/routes/module/[slug]/[lecture]/+page.svelte
  - src/routes/module/[slug]/[lecture]/+page.ts
  - src/lib/content/module1/introduction.ts
  - src/lib/content/module1/index.ts
  - src/lib/data/modules.ts
autonomous: false
---

<objective>
Create lecture page infrastructure and Lecture 1: Introduction to Causal Analysis.

Purpose: Establish the lecture page template that all other lectures will use, plus the first complete lecture demonstrating the visual learning approach.

Output: Working lecture page at /module/causal-analysis/introduction with animated explanations of confounding, spurious correlation, and selection bias.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Prior work:
@.planning/phases/05-animation-system/05-03-SUMMARY.md

Source files:
@src/lib/components/animation/index.ts
@src/lib/components/animation/presets/index.ts
@src/lib/data/modules.ts
@src/routes/module/[slug]/+page.svelte
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create lecture page route</name>
  <files>src/routes/module/[slug]/[lecture]/+page.svelte, src/routes/module/[slug]/[lecture]/+page.ts</files>
  <action>
Create dynamic route for individual lectures.

+page.ts:
- Load function that gets module slug and lecture slug from params
- Use getLectureBySlug to get lecture data
- Import lecture content from $lib/content/module1/[slug].ts
- Return lecture + module + content

+page.svelte:
- Hero section with lecture title, module badge, metadata (duration, features)
- Main content area using StepExplanation component for animated sections
- Static content sections for text explanations
- Navigation footer with prev/next lecture links
- Use existing UI components (Container, Card, Badge)
- Support both animated content (StepExplanation) and static diagrams (CausalDiagram)
  </action>
  <verify>npm run build succeeds, route compiles without errors</verify>
  <done>Lecture page route exists and renders placeholder content</done>
</task>

<task type="auto">
  <name>Task 2: Create Lecture 1 content</name>
  <files>src/lib/content/module1/introduction.ts, src/lib/content/module1/index.ts</files>
  <action>
Create content file for "Introduction to Causal Analysis" lecture.

Content structure in introduction.ts:
- Export lectureContent object with:
  - sections: Array of content sections (text, diagrams, animations)
  - Each section has: type ('text' | 'explanation' | 'diagram'), title, content/data

Topics to cover (from course notes):
1. **What is Causal Inference?** - Text intro explaining the goal
2. **Confounding** - Use existing createConfoundingExplanation() preset as animated section
3. **Spurious Correlation** - Ice cream / drowning example with CausalDiagram
4. **Selection Bias** - New StepExplanation showing how selection affects outcomes
5. **Key Takeaway** - Summary of why we need causal methods

Create index.ts barrel export for module1 content.

Use ExplanationStep[] format from animation system for animated sections.
Use DiagramData format for static diagrams.
  </action>
  <verify>TypeScript compiles, content exports are valid</verify>
  <done>Lecture 1 content complete with 5 sections covering confounding, spurious correlation, selection bias</done>
</task>

<task type="auto">
  <name>Task 3: Update module data</name>
  <files>src/lib/data/modules.ts</files>
  <action>
Update Lecture 1 status from 'coming-soon' to 'ready' in module1Lectures array.

Only change status field for lecture id '1-1'.
  </action>
  <verify>Import and check module data shows lecture 1 as ready</verify>
  <done>Lecture 1 marked as ready in module data</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Lecture 1: Introduction to Causal Analysis with animated explanations</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:5174/module/causal-analysis
    3. Click on "Introduction to Causal Analysis" lecture (should show "Ready" badge)
    4. Verify lecture page loads with:
       - Lecture title and metadata
       - Animated confounding explanation (use play controls)
       - Spurious correlation diagram (ice cream example)
       - Selection bias explanation
    5. Test prev/next navigation (next should go to Key Thinkers)
    6. Check mobile responsiveness
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run dev starts without errors
- [ ] npm run build succeeds
- [ ] /module/causal-analysis/introduction loads
- [ ] Animated explanations play correctly
- [ ] Static diagrams render
- [ ] Navigation works (prev/next)
</verification>

<success_criteria>
- Lecture page template established
- Lecture 1 content complete with animations
- Module data updated to show lecture as ready
- User approved visual quality
</success_criteria>

<output>
After completion, create `.planning/phases/06-module1-content/06-01-SUMMARY.md`
</output>
