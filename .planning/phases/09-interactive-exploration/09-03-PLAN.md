# Plan 09-03: Method Comparison Tool

## Objective

Create an interactive tool comparing how different causal inference methods (RCT, Matching, DID) perform on the same underlying data. Users see why method choice matters.

## Dependencies

- Plan 09-01 (simulation utilities)
- Plan 09-02 (visualization patterns)

## Implementation Steps

### Step 1: Create Method Comparison Page

Create `src/routes/explore/methods/+page.svelte`:
- Title: "Comparing Causal Methods"
- Explanation of what each method assumes
- Side-by-side comparison visualization
- Controls panel

### Step 2: Create Method Comparison Visualization

Create `src/lib/components/explore/MethodComparisonViz.svelte`:
- Three panels showing same data, different analyses:
  - RCT: Random assignment (gold standard)
  - Matching: Pair similar units
  - DID: Compare changes over time
- Each panel shows estimated treatment effect
- Highlight which assumptions are violated

### Step 3: Create Data Scenarios

In simulation.ts, add:
- `generateMethodComparisonData(scenario)` - creates data where:
  - Scenario 1: RCT valid, others also work
  - Scenario 2: Selection bias present (RCT works, naive doesn't)
  - Scenario 3: Time trends differ (DID fails parallel trends)
  - Scenario 4: Unobserved confounder (only RCT works)

### Step 4: Create Scenario Selector

- Dropdown or tabs to select data scenario
- Brief description of each scenario
- "What would happen if..." framing

### Step 5: Wire Up Results

- Each method shows:
  - Point estimate
  - Whether assumptions are met (checkmark/X)
  - Confidence interval
- True ATE shown for comparison
- Highlight the "winning" method for each scenario

### Step 6: Add Learning Callouts

- "In this scenario, matching fails because..."
- "DID works here because parallel trends holds..."
- Link to relevant lecture content

## Verification

- [ ] /explore/methods route works
- [ ] All 4 scenarios generate correct data
- [ ] Method estimates are correct
- [ ] Assumption violations highlighted
- [ ] Explanations are helpful
- [ ] Build passes

## Estimated Scope

- 2 new files
- ~450 lines

## Checkpoint

After this plan, Phase 9 is complete. User should test:
1. Explore landing page
2. Confounding simulator with various settings
3. Method comparison across all scenarios
4. Animations and visual feedback
