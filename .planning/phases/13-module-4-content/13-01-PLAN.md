---
phase: 13-module-4-content
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/lib/data/modules.ts, src/lib/content/module4/index.ts, src/lib/content/module4/consumer-demand-preferences.ts, src/lib/content/module4/stp-framework.ts, src/lib/content/module4/conjoint-analysis.ts]
autonomous: true
---

<objective>
Create Module 4 foundation (data definition, content directory) and first 3 lectures covering Consumer Demand & Preferences, STP Framework, and Conjoint Analysis.

Purpose: Establish Module 4 structure and deliver the first three lectures that introduce the module's core analytical frameworks (segmentation, targeting, positioning, and conjoint analysis for measuring customer preferences).

Output: Module 4 visible in navigation with 3 working lectures containing rich visual content, animated explanations, and interactive diagrams.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/lib/data/modules.ts
@src/lib/content/types.ts
@src/lib/content/module3/index.ts
@src/lib/content/module3/intro-online-content.ts

Source material (Module 4 notes â€” lectures 1-3):
@/Users/boris/Documents/KnowledgeDB/UIUC-iMBA/2026-Spring\ -\ Applying\ Data\ Analytics\ in\ Marketing\ -\ MBA\ 564A/Module\ 4\ -\ Customer\ Preferences\ and\ Lifetime\ Value\ Analysis.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Module 4 data definition and content directory</name>
  <files>src/lib/data/modules.ts, src/lib/content/module4/index.ts</files>
  <action>
  Add Module 4 to modules.ts following the exact pattern used for Module 3:

  1. Create `module4Lectures` array with 8 lecture definitions:
     - Lecture 1: "Consumer Demand and Preference Analysis" slug: "consumer-demand-preferences"
     - Lecture 2: "Segmentation, Targeting, and Positioning" slug: "stp-framework"
     - Lecture 3: "Conjoint Analysis" slug: "conjoint-analysis"
     - Lecture 4: "Introduction to CLV Analysis" slug: "clv-introduction"
     - Lecture 5: "CLV Calculation and Application" slug: "clv-calculation"
     - Lecture 6: "AI-Generated Content and Engagement" slug: "agc-engagement"
     - Lecture 7: "Customer Churn and Incrementality" slug: "churn-incrementality"
     - Lecture 8: "Python Demo: Segmentation and CLV" slug: "python-segmentation-clv"

  2. Set lectures 1-3 as status: 'ready', lectures 4-8 as status: 'coming-soon'
  3. All lectures: hasVisualization: true, hasAnimation: true
  4. Module: id '4', order 4, slug 'customer-preferences-clv', color 'outcome' (green â€” represents CLV/value outcomes), icon 'ðŸŽ¯', status 'active'
  5. Module name: "Customer Preferences and Lifetime Value Analysis"
  6. Module description: "Analyze customer preferences using STP and conjoint analysis, calculate customer lifetime value, and understand churn prevention through incrementality"

  Create src/lib/content/module4/index.ts with exports for lectures 1-3 (the ones being created in this plan). Use the same export pattern as module3/index.ts.
  </action>
  <verify>npm run build passes â€” module appears in navigation, no TypeScript errors</verify>
  <done>Module 4 visible in sidebar with 8 lectures listed, first 3 marked ready</done>
</task>

<task type="auto">
  <name>Task 2: Create Lecture 1 â€” Consumer Demand and Preference Analysis</name>
  <files>src/lib/content/module4/consumer-demand-preferences.ts</files>
  <action>
  Transform the source notes for Lecture 1 into rich visual content. The lecture introduces the module through a music store case study showing why data-driven analysis matters.

  Create 6-7 content sections:

  1. **Text section: "Module Overview"** â€” Brief intro to what Module 4 covers: STP, Conjoint Analysis, CLV. Frame the three tools as a progression from understanding customers â†’ measuring preferences â†’ calculating long-term value. Make this engaging and clear about why these tools matter.

  2. **Explanation section: "The Music Store Case Study"** â€” 4-step animated explanation:
     - Step 1: "The Investment" â€” Store invests in premium bass amplifiers ($1000-$2000), diagram showing store â†’ premium product investment
     - Step 2: "The Gap" â€” Customers visit, look, photograph... but don't buy. Show product-customer gap diagram with nodes: Product (premium), Target Customer (hobby musicians), Customer Budget ($200-$600), Customer Priorities (practical)
     - Step 3: "Three Missing Analyses" â€” Show three analytical tools that could have prevented failure: Market Segmentation, Conjoint Analysis, CLV. Diagram with three nodes pointing to "Data-Driven Decision"
     - Step 4: "The Lesson" â€” Sustainable decisions require alignment of product, customer preferences, budget, and market segment. Convergence diagram.

  3. **Text section: "Why Data Over Intuition"** â€” The store assumed customers valued technology and design. Customers valued price and practicality. Intuition overestimates what matters to the company, not the customer. Include a comparison table: What Store Valued vs What Customers Valued.

  4. **Diagram section: "Module Roadmap"** â€” Visual roadmap showing the three analytical tools as a connected flow:
     - Node 1: "STP Framework" (Segment â†’ Target â†’ Position) â€” type 'treatment'
     - Node 2: "Conjoint Analysis" (Measure attribute value) â€” type 'confounder'
     - Node 3: "Customer Lifetime Value" (Long-term profitability) â€” type 'outcome'
     - Edges connecting them in sequence with labels: "identify segments" â†’ "measure preferences" â†’ "calculate value"

  5. **Text section: "Key Concepts Preview"** â€” Brief definitions of Market Segmentation, Target Market, Positioning, Conjoint Analysis, and Customer Lifetime Value. Use bold for terms, keep definitions to 1-2 sentences each.

  6. **Text section: "The CLV Formula Preview"** â€” Tease the CLV formula that will be developed in Lectures 4-5. Mention components: retention rate, margin, discount rate, planning horizon. Show the conceptual equation: CLV = Sum of discounted future profits from a customer.

  Content must be in English. Translate all concepts from the Russian source notes. Make content engaging, visual, and easy to comprehend. Use analogies and real-world examples.
  </action>
  <verify>npm run build passes, lecture page renders at /module/customer-preferences-clv/consumer-demand-preferences</verify>
  <done>Lecture 1 renders with all 6 sections, animated case study explanation works, module roadmap diagram displays correctly</done>
</task>

<task type="auto">
  <name>Task 3: Create Lectures 2-3 â€” STP Framework and Conjoint Analysis</name>
  <files>src/lib/content/module4/stp-framework.ts, src/lib/content/module4/conjoint-analysis.ts</files>
  <action>
  **Lecture 2: Segmentation, Targeting, and Positioning (STP Framework)**

  Create 7-8 content sections:

  1. **Text section: "The STP Framework"** â€” Introduction: STP answers three questions: Who is our customer? Which segment do we target? How do we position our product? Key insight: don't try to please everyone.

  2. **Explanation section: "Segmentation Types"** â€” 4-step animated explanation:
     - Step 1: "Demographic" â€” Age, income, education, family status. Example: Netflix segments beyond just "TV watchers"
     - Step 2: "Psychographic" â€” Lifestyle, values, interests, beliefs. Deeper than demographics.
     - Step 3: "Behavioral" â€” Purchase behavior, usage habits, frequency. Most actionable.
     - Step 4: "Algorithmic (K-means)" â€” ML-based clustering: group customers by feature similarity. Inputs: price sensitivity, genre preference, device usage â†’ clusters emerge.
     Each step: diagram showing segment type with example nodes.

  3. **Diagram section: "K-means Clustering Visualization"** â€” Show K-means concept:
     - 3 cluster center nodes (type: treatment, control, confounder)
     - 6-8 data point nodes around clusters
     - Edges from points to nearest center
     - Label: "Minimize within-cluster distance, maximize between-cluster distance"

  4. **Text section: "Targeting"** â€” Criteria for evaluating segments: size, growth, profitability, competitiveness, brand fit, accessibility. Electric scooter example: urban commuters > outdoor enthusiasts > budget students. Data sources: census, purchase history, surveys, predictive models.

  5. **Text section: "Positioning"** â€” Not about the product â€” about perception. "The cognitive battlefield." Electric scooter positioning: "fastest and most reliable way to beat city traffic." Competitors position differently: cheapest, most eco-friendly, most durable.

  6. **Explanation section: "Vertical vs Horizontal Attributes"** â€” 3-step explanation:
     - Step 1: "Vertical Attributes" â€” More is universally better: battery life, fuel efficiency, processor speed. Usually more expensive.
     - Step 2: "Horizontal Attributes" â€” Taste/preference differences: color, design, OS, brand personality. No objectively "better."
     - Step 3: "Market Mapping" â€” Plot competitors on 2 axes (e.g., price vs performance). Identify gaps and crowded zones. PCA reduces many dimensions to 2-3 for visualization.

  7. **Diagram section: "Market Map Example"** â€” 2D positioning map:
     - X-axis: Price (Low â†’ High), Y-axis: Performance (Low â†’ High)
     - 4-5 competitor nodes in different positions
     - One "opportunity gap" node highlighted (type: outcome)
     - Shows how PCA simplifies multi-dimensional positioning

  8. **Text section: "Apple iPhone STP Example"** â€” Segmentation: lifestyle, income, tech affinity. Targeting: initially high-income tech users, later added budget segment (iPhone SE). Positioning: status symbol, seamless experience, premium design.

  **Lecture 3: Conjoint Analysis**

  Create 7 content sections:

  1. **Text section: "From STP to Conjoint"** â€” STP tells you WHO to target. Conjoint tells you WHAT they value inside the product. The question: which product attributes drive customer choice?

  2. **Explanation section: "How Conjoint Analysis Works"** â€” 4-step animated explanation:
     - Step 1: "Define Attributes" â€” Choose product attributes (screen size, camera, battery, price). Keep to significant ones only â€” too many causes respondent fatigue.
     - Step 2: "Create Product Profiles" â€” Combine attribute levels into realistic product variants (Profile A: large screen + high camera + long battery + high price vs Profile B: medium + average + medium + mid price).
     - Step 3: "Collect Preferences" â€” Show profiles to respondents. They choose, rank, or rate. Forces real trade-offs (unlike simple surveys where everything is "important").
     - Step 4: "Calculate Part-Worth Utilities" â€” Statistical model decomposes overall preference into utility for each attribute level. Reveals relative importance: price 40%, camera 25%, battery 20%, screen 15%.

  3. **Diagram section: "Part-Worth Utility Chart"** â€” Bar chart style diagram:
     - 4 attribute groups (Price, Camera, Battery, Screen)
     - Within each: 2-3 level nodes with utility values
     - Color coding by importance (highest = outcome/green, lowest = lighter)
     - Label: "Total Utility = Sum of Part-Worth Utilities"

  4. **Text section: "Why Conjoint Beats Simple Surveys"** â€” Direct comparison table: Simple Survey asks "How important is camera?" â†’ everyone says "very important" (no trade-off). Conjoint forces: "Would you accept worse camera for lower price?" â†’ reveals real preferences. Conjoint models buying behavior, not stated preference.

  5. **Text section: "Trade-offs and Willingness to Pay"** â€” Examples: accept smaller battery for lower price, pay more for better camera, sacrifice design for functionality. The power is in quantifying these trade-offs.

  6. **Text section: "Practical Application"** â€” Use cases: product launch, redesign, pricing, feature prioritization. Streaming service example: price (low/medium/high) Ã— content (standard/premium/exclusive) Ã— quality (SD/HD/4K). Results inform tier design and pricing strategy.

  7. **Text section: "Best Practices"** â€” Rules: (1) Choose only significant attributes, (2) Create realistic profiles, (3) Pretest the survey, (4) Segment the results â€” different segments may have different utility profiles. Can combine with STP for precision.

  All content in English. Make concepts visual and easy to comprehend. Use real-world examples (Netflix, Apple, electric scooters, streaming services) to ground abstract concepts.
  </action>
  <verify>npm run build passes, both lectures render correctly at their respective URLs</verify>
  <done>Lectures 2 and 3 render with all sections, STP and conjoint visualizations display, animated explanations work</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] Module 4 appears in navigation sidebar
- [ ] Lecture 1 renders at /module/customer-preferences-clv/consumer-demand-preferences
- [ ] Lecture 2 renders at /module/customer-preferences-clv/stp-framework
- [ ] Lecture 3 renders at /module/customer-preferences-clv/conjoint-analysis
- [ ] All animated explanations progress through steps
- [ ] All diagrams display with correct nodes and edges
- [ ] No TypeScript errors
</verification>

<success_criteria>

- Module 4 definition complete with 8 lectures in modules.ts
- 3 lecture content files created with rich visual content
- Each lecture has 6-8 content sections mixing text, diagrams, and animated explanations
- Content is engaging, visual, and easy to comprehend
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/13-module-4-content/13-01-SUMMARY.md`
</output>
